@{
    ViewData["Title"] = "News";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
    var ht = ViewBag.pack as TblTourPackage;
}
@model ViewPackageUser;
<!-- Property List Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="tab-content">
            <a href="javascript:history.back()">Go Back</a>
            <hr />
            <div id="tab-1" class="tab-pane fade show p-0 active">
                <div class="row g-4">
                    <div class="col-lg-6 wow fadeInUp" style="height:100%" data-wow-delay="0.5s">
                        <div class="p-4 pb-0">
                            <a class="d-block h5 mb-2">Special Travelling Package</a><span><h5 class="text-primary mb-3">@Model.packageImg.Name</h5></span>
                            <p>
                                <strong>
                                    Customer Rating: 
                                </strong>
                                <i class="fa fa-star" style="color:#8B8000" aria-hidden="true"></i> 5.0
                                &nbsp;&nbsp;<span>
                                    <a class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#commentModal"
                                       data-feedback-object="Tour_Packages" data-object-id=@Model.packageImg.PackageId>
                                        Already tried? Rate this service
                                    </a>
                                </span>
                            </p>
                            <p>
                                <strong><i class="fa fa-calendar"></i> Start Date: </strong>
                                @Model.packageImg.StartDate
                            </p>
                            <p>
                                <strong><i class="fa fa-calendar"></i> End Date:</strong>
                                @Model.packageImg.StartDate
                            </p>
                        </div>
                    </div>
                </div>
                <div class="row g-4">
                    @foreach (var item in Model.Images)
                    {
                        <div class="col-lg-4 col-md-4 wow fadeInUp" style="height:100%" data-wow-delay="0.5s">
                            <div class="card h-100">
                                <img class="card-img-top" src="/img/tblTour_Packages/@item.Url" height="200px" width="auto" alt="">
                            </div>
                        </div>
                    }
                </div>
                <div class="row g-4">
                    <div class="col-lg-12 wow fadeInUp" style="height:100%" data-wow-delay="0.5s">
                        <div class="p-4 pb-0">
                            <p>
                                <strong>Tour Detailed Schedule: </strong>
                                @Html.Raw(@Model.packageImg.Description)
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            var travelId = '@Model.packageImg.PackageId'; // Get the Travel ID from the model
            var object = "Tour_Packages";
            $.ajax({
                url: '@Url.Action("GetStarRating", "Home")', // Ensure the controller and action names are correct
                type: 'GET',
                data: { Id: travelId, Object: object },
                success: function (data) {
                    $('.star-rating').text(data.toFixed(1)); // Update all elements with class 'star-rating'
                },
                error: function (xhr, status, error) {
                    console.error("Error fetching star rating: " + error);
                }
            });
        });
    </script>
</div>
<!-- Property List End -->
